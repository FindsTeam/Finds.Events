const {
    periodicityTypes,
    eventEntryTypes,
    eventTypes
} = require("./preferences");

const periodicityDigestHeaderMapping = new Map([
    [ periodicityTypes.everyDay, "–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π, –¥–ª—è —Ü–µ–Ω–∏—Ç–µ–ª–µ–π" ],
    [ periodicityTypes.everyWeekday, "–±—É–¥–Ω–µ–≥–æ –¥–Ω—è, –¥–ª—è —Ä–∞–±–æ—Ç—è–≥" ],
    [ periodicityTypes.beforeWeekend, "–∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏, –¥–ª—è —Ç—É—Å–æ–≤—â–∏–∫–æ–≤" ],
]);

const periodicityPreferenceMessage = "–ß–∞—Å—Ç–æ—Ç–∞ —Ä–∞—Å—Å—ã–ª–∫–∏:";

const periodicityPreferencesMapping = new Map([
    [ periodicityTypes.everyDay, `‚ö°Ô∏è  ${ periodicityPreferenceMessage } _–∫–∞–∂–¥—ã–π –¥–µ–Ω—å_` ],
    [ periodicityTypes.everyWeekday, `üöÄ  ${ periodicityPreferenceMessage } _–ø–æ –±—É–¥–Ω–∏–º –¥–Ω—è–º_` ],
    [ periodicityTypes.beforeWeekend, `üéâ  ${ periodicityPreferenceMessage } _–ø—è—Ç–Ω–∏—Ü–∞ + –≤—ã—Ö–æ–¥–Ω—ã–µ_` ],
]);

const entryTypeMapping = new Map([
    [ eventEntryTypes.free, "–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ" ],
    [ eventEntryTypes.paid, "–ø–ª–∞—Ç–Ω—ã–µ" ],
]);

const eventTypeMapping = new Map([
    [ eventTypes.education, "—Ä–∞–∑–≤–∏–≤–∞—é—â–∏–µ" ],
    [ eventTypes.entertainment, "—Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ" ],
]);

const buildEntryPreference = entryTypes => entryTypes.map(type => entryTypeMapping.get(type)).join(", ");
const buildTypePreference = eventTypes => eventTypes.map(type => eventTypeMapping.get(type)).join(", ");

module.exports = {
    start: "ü§ñ  –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?",
    sendLocation: "ü§ñ  –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏—à–ª–∏—Ç–µ —Å–≤–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ",
    eventsTodayHeader: "üí• *–î–∞–π–¥–∂–µ—Å—Ç –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –Ω–∞ —Å–µ–≥–æ–¥–Ω—è*",
    noEventsForToday: "ü§ñ  –Ø –æ—á–µ–Ω—å —Å—Ç–∞—Ä–∞–ª—Å—è, –Ω–æ –Ω–µ –Ω–∞—à–µ–ª –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –Ω–∞ —Å–µ–≥–æ–¥–Ω—è... –ë—ã—Ç—å –º–æ–∂–µ—Ç, –ø–æ–≤–µ–∑–µ—Ç –≤ –¥—Ä—É–≥–æ–π —Ä–∞–∑?",
    noEventsAround: "ü§ñ  –Ø –æ—á–µ–Ω—å —Å—Ç–∞—Ä–∞–ª—Å—è, –Ω–æ –Ω–µ –Ω–∞—à–µ–ª –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤ –æ–∫—Ä—É–≥–µ... –ë—ã—Ç—å –º–æ–∂–µ—Ç, –ø–æ–≤–µ–∑–µ—Ç –≤ –¥—Ä—É–≥–æ–π —Ä–∞–∑?",
    afterSearch: "ü§ñ  –ß—Ç–æ-–Ω–∏–±—É–¥—å –µ—â–µ?",
    refineSearchRadius: "ü§ñ  –ö–∞–∫ –¥–∞–ª–µ–∫–æ –∏—â–µ–º?",
    askForLocation: "ü§ñ  –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏—à–ª–∏—Ç–µ —Å–≤–æ–µ —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ.\n\n–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –º–æ–±–∏–ª—å–Ω–æ–π –∏ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –≤–µ—Ä—Å–∏–∏ Telegram!",
    eventsAroundHeader: "üí•  *–î–∞–π–¥–∂–µ—Å—Ç –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤–æ–∫—Ä—É–≥ –≤–∞—Å*",
    subscriptionWarning: "ü§ñ  –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∞–Ω–æ–Ω—Å—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–∞–º—É—é —Å–≤–µ–∂—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–≤–µ–Ω—Ç–∞—Ö –≤ —É–¥–æ–±–Ω–æ–º –≤–∏–¥–µ. –†–∞—Å—Å—ã–ª–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —É—Ç—Ä–∞–º, —Ä–µ–∂–∏–º –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å. –ò –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ ‚Äî –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç!",
    askAboutPeriodicity: "ü§ñ  –ß—É–¥–µ—Å–Ω–æ! –ê —Å–µ–π—á–∞—Å –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –∑–Ω–∞—Ç—å, –∫–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–∏—Å—ã–ª–∞—Ç—å –∞–Ω–æ–Ω—Å—ã?",
    finishSubscribingSuccess: "ü§ñ  –í—ã –∫–ª–∞—Å—Å–Ω—ã–π, –∞ –º–æ–∂–µ—Ç –¥–∞–∂–µ –µ—â–µ –∫—Ä—É—á–µ ‚Äî –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–æ—à–ª–æ –≥–ª–∞–¥–∫–æ. –í—Å—Ç—Ä–µ—Ç–∏–º—Å—è –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ –º–∏–Ω—Å–∫–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, —Ç–æ–ª—å–∫–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ —á–∏—Ç–∞—Ç—å –º–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è!",
    finishSubscribingFailure: "ü§ñ  –û—á–µ–Ω—å –∂–∞–ª—å, –Ω–æ —É –º–µ–Ω—è –Ω–µ –≤—ã—à–ª–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤–∞–º –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –¥–∞–π–¥–∂–µ—Å—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –º–æ–µ–º—É —Å–æ–∑–¥–∞—Ç–µ–ª—é, –µ—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ...",
    unsubscriptionWarning: "ü§ñ  –ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –¥–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç. –®—É—Ç–∫–∞. –û—Ç–ø–∏—Å–∞–≤—à–∏—Å—å –æ—Ç –º–æ–∏—Ö –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤, –≤—ã, –Ω–µ—Å–æ–º–Ω–µ–Ω–Ω–æ –∏–∑–±–∞–≤–ª—è–µ—Ç–µ—Å—å –æ—Ç –ª–∏—à–Ω–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –≤–∞–º —Å–Ω–æ–≤–∞ —Å—Ç–∞–Ω–µ—Ç –≥—Ä—É—Å—Ç–Ω–æ, –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –≤ —Ç—Ä–∏ –∫–ª–∏–∫–∞!",
    finishUnsubscribingSuccess: "ü§ñ  –†–æ–±–æ—Ç –≥—Ä—É—Å—Ç–∏—Ç. –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∞ –≥–ª–∞–¥–∫–æ.",
    finishUnsubscribingFailure: "ü§ñ  –í–æ –≤—Ä–µ–º—è –æ—Ç–ø–∏—Å–∫–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –∫–∞–∫–∞—è-—Ç–æ –æ—à–∏–±–∫–∞. –≠—Ç–æ –Ω–µ —Å–ø–æ—Å–æ–± –≤–∞—Å —É–¥–µ—Ä–∂–∞—Ç—å, –ø—Ä–∞–≤–¥–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑, –∞ –µ—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–Ω–æ–≤–∞ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –º–æ–µ–º—É —Å–æ–∑–¥–∞—Ç–µ–ª—é...",
    subscriptionDigestHeader: periodicity => `üí• *–î–∞–π–¥–∂–µ—Å—Ç ${ periodicityDigestHeaderMapping.get(periodicity) }!*`,
    
    preferences: preference => {
        const notificationsEnabled = preference.notifications.enabled;
        const subscriptionStatus = `‚úâÔ∏è  –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∞–Ω–æ–Ω—Å—ã: _${ notificationsEnabled ? "–≤–∫–ª—é—á–µ–Ω–∞" : "–æ—Ç–∫–ª—é—á–µ–Ω–∞" }_`;
        const periodicityStatus = periodicityPreferencesMapping.get(preference.notifications.periodicity);
        const typeStatus = `üå±  –ü–æ –≤–∏–¥—É —Å–æ–±—ã—Ç–∏–π: _${ buildTypePreference(preference.subscriptions.type) }_`;
        const entryStatus = `üö™  –ü–æ —Ç–∏–ø—É –≤—Ö–æ–¥–∞: _${ buildEntryPreference(preference.subscriptions.entry) }_`;
        const details = `${ periodicityStatus }\n\n*–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è*\n${ typeStatus }\n${ entryStatus }`;

        return `ü§ñ  *–°–µ–π—á–∞—Å –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:*\n\n*–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è*\n${ subscriptionStatus }\n${ notificationsEnabled ? details : "" }`;
    },

    askAboutPreferenceChange: "ü§ñ  –ß—Ç–æ-–Ω–∏–±—É–¥—å –º–µ–Ω—è–µ–º?",
    preferencesChangeSuccess: "ü§ñ  –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã.",
    preferencesChangeFailure: "ü§ñ  –í–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∞—à–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø—Ä–æ–∏–∑–æ—à–ª–∞ –∫–∞–∫–∞—è-—Ç–æ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑, –∞ –µ—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–Ω–æ–≤–∞ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –º–æ–µ–º—É —Å–æ–∑–¥–∞—Ç–µ–ª—é...",
    askAboutTypeChange: "ü§ñ  –ö–∞–∫–∏–µ –≤–∏–¥—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –∞–Ω–æ–Ω—Å–µ?",
    askAboutEntryChange: "ü§ñ  –ß—Ç–æ –Ω–∞—Å—á–µ—Ç –≤—Ö–æ–¥–∞? –ö–∞–∫–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è —Å—Ç–æ–∏—Ç –∏—Å–∫–∞—Ç—å?"
};